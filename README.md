# Kefir
# Тестовое задание на должность программиста Python.
### Сервис для хранения данных о пользователях.
Описание задачи — «Тестовое задание Python.pdf».<br>
Описание API от заказчика — «kfr_python_junior_test_openapi.json».<br>
Описание API проекта — «localhost:8080/swagger».<br>
### Файловая структура:
- `src` — source root
- `app` — приложение
- `app/abs` — абстрактные классы
- `app/api` — описание API
- `app/db` — подключение и команды БД 
- `app/di` — dependency injection
- `app/helpers` — вспомогательные методы
- `app/model` — модели БД
- Точка запуска — `src/start.py`
### Локальный запуск (без docker):
- Конфигурация сервисов и тестовые настройки админа — `src/config.yml`.
- В файле `src/config.yml` заменить `host: !ENV '${db_docker_host}'` на `host: !ENV '${db_local_host}'`
- В файле `.env.example` прописать доступ к postgres (login / password / db_name / …).
- Внешние зависимости — `src/requirements.txt`.
- uvloop для linux, на машине с windows не установится.
- Точка запуска — `src/start.py`
### Локальный запуск (c docker):
- Конфигурация сервисов и тестовые настройки админа — `src/config.yml`.
- В файле `src/config.yml` заменить `host: !ENV '${db_local_host}'` на `host: !ENV '${db_docker_host}'`, если необходимо.
- Остальные настройки аналогично с локальным запуском без docker.
- Из терминала `docker-compose up --build` в корневой папке проекта (папка, в которой находится `docker-compose.yml`).
### Примечания:
- Логин с помощью адреса электронной почты, в схемах не было прописано поле.
- В cookies сохраняется JWT токен от email. JWT-secret и время «жизни» токена указываются в `src/config.yml` и `.env` файле.
- Показалось, что неудобно использовать primary key <pk> в API, что в редактировании текущего пользователя можно не использовать.
- Описания ошибок расписал бы более подробно.
- Система с городами кажется недоработанной: нет операций создания / чтения / удаления / изменения.
- Авто-тестов нет, возможно, появятся в будущем.